{"version":3,"sources":["../../src/pages/addschedule/addschedule.module.ts","../../src/pages/addschedule/addschedule.ts"],"names":[],"mappings":"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","file":"29.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\nimport { AddschedulePage } from './addschedule';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        AddschedulePage,\r\n    ],\r\n    imports: [\r\n        IonicPageModule.forChild(AddschedulePage),\r\n        TranslateModule.forChild()\r\n    ],\r\n    exports: [\r\n        AddschedulePage\r\n    ]\r\n})\r\nexport class AddscheduleModule{ }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addschedule/addschedule.module.ts","import { Component                                            } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ViewController, AlertController  } from 'ionic-angular';\r\nimport { Contacts, User , Developments     , Inputs                                 } from '../../providers';\r\nimport { FormBuilder, FormGroup, Validators                   } from '../../../node_modules/@angular/forms';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-AddschedulePage',\r\n  templateUrl: 'addschedule.html',\r\n})\r\n\r\nexport class AddschedulePage {\r\n\r\n  btnAdd      = false;\r\n  spinner     = false;\r\n  data : any  = [] ;\r\n  msg         = '' ;\r\n  public event : any =[];\r\n  public myDate : any;\r\n  public date : any;\r\n  public time : any;\r\n  public commentForm: FormGroup;\r\n  public monthName: any =[];\r\n  public shortMonthName: any =[];\r\n  public subjet: any =[];\r\n  public devs : any =[];\r\n  constructor(public inputs : Inputs, public developments : Developments, public alertCtrl : AlertController, private user : User, public formBuilder: FormBuilder, public contact: Contacts, public navCtrl: NavController, public viewCtrl : ViewController, public navParams: NavParams) {\r\n    \r\n    ////console.log(\"addschule\");\r\n    \r\n    this.myDate = new Date().toISOString();    \r\n\r\n\r\n    this.date = this.myDate.substring(0,10);\r\n    this.time = this.myDate.substring(11,16);\r\n    this.event.startDate = this.myDate.substring(0, 10);\r\n\r\n    this.monthName = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre',  'Noviembre', 'Diciembre' ];\r\n    this.shortMonthName = ['Ene.', 'Feb.', 'Mar.', 'Abr.', 'May.', 'Jun.', 'Jul.', 'Ago.', 'Sep.', 'Oct.', 'Nov.', 'Dic.'];\r\n    this.subjet = ['0', 'Cita', 'Llamada', 'Guardia' , 'Vista de la Propiedad' ,'Inspección' ,'Domiciliaria' ,'Otros',  'Seguimiento'];\r\n    \r\n    this.commentForm = formBuilder.group({\r\n      comment: ['', [Validators.required]],\r\n      day: ['', [Validators.required]],\r\n      hour: [''],\r\n      development: [''],\r\n      state: ['']\r\n    });\r\n\r\n  } \r\n  updateDevs() {\r\n    this.devs = [];\r\n    this.developments.developments.forEach((value, key, index) => { \r\n      ////console.log(value.stateid, '- ', this.data.state);\r\n      \r\n      if(value.stateid == this.data.state){\r\n        ////console.log('yes');\r\n        this.devs.push(value)\r\n      }\r\n\r\n    });\r\n\r\n  }\r\n  addComment(){\r\n\r\n    if(this.btnAdd)\r\n      return;\r\n\r\n    this.btnAdd   = true;\r\n    this.spinner  = true;\r\n    var $this     = this;\r\n  \r\n    \r\n    this.data.userid    = this.user.userInfo.userid;\r\n    this.data.folio     = this.contact.contact.visit.visitid;\r\n    this.data.officeid  = this.contact.contact.visit.office;\r\n    var response        = this.contact.addCita(this.data);\r\n\r\n    Promise.all([response]).then(data => {\r\n      \r\n      this.spinner = false;\r\n\r\n      if(data[0]){\r\n\r\n        let alert = this.alertCtrl.create({\r\n          title: 'Éxito',\r\n          message: 'Se envió tu solicitud con éxito, un asesor te contactara para confirmar la cita',\r\n          buttons: [\r\n            {\r\n              text: 'Cancelar',\r\n              role: 'cancel',\r\n              handler: () => {\r\n\r\n              }\r\n            },\r\n            {\r\n              text: 'Aceptar',\r\n              handler: () => {\r\n                 setTimeout(() => {\r\n                    $this.viewCtrl.dismiss();\r\n                  }, 1000);\r\n              }\r\n            }\r\n          ]\r\n        });\r\n  \r\n        alert.present();\r\n       \r\n      }else{\r\n        $this.btnAdd = false;\r\n      }\r\n   \r\n    }); \r\n  }\r\n\r\n  cancel(){\r\n    this.viewCtrl.dismiss();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addschedule/addschedule.ts"],"sourceRoot":""}